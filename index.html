<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>å†¬æ—…äººÂ·å…¥è‹‘æµ‹è¯•</title>
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- å¼•å…¥ Babel ç”¨äºè§£æ JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* è‡ªå®šä¹‰åŠ¨ç”»æ ·å¼ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        /* ç§»åŠ¨ç«¯ä¼˜åŒ–æ ·å¼ */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            -webkit-tap-highlight-color: transparent; /* å»é™¤ç‚¹å‡»é«˜äº® */
            -webkit-touch-callout: none; /* ç¦æ­¢é•¿æŒ‰èœå• */
            user-select: none; /* ç¦æ­¢é€‰ä¸­æ–‡æœ¬ */
        }
        
        /* å…è®¸ç»“æœé¡µçš„æ–‡æœ¬è¢«é€‰ä¸­å¤åˆ¶ */
        .allow-select {
            user-select: text;
            -webkit-user-select: text;
        }

        /* ä¿®å¤ç§»åŠ¨ç«¯ 100vh é—®é¢˜ */
        .min-h-screen-mobile {
            min-height: 100vh; /* é™çº§å…¼å®¹ */
            min-height: 100dvh; /* ç°ä»£æµè§ˆå™¨åŠ¨æ€é«˜åº¦ */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- å›¾æ ‡ç»„ä»¶ (æ›¿æ¢ lucide-react ä»¥ä¾¿åœ¨ HTML ä¸­ç›´æ¥è¿è¡Œ) ---
        const IconWrapper = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Sparkles = ({ className }) => (
            <IconWrapper className={className}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                <path d="M5 3v4"/>
                <path d="M9 3v4"/>
                <path d="M5 7h4"/>
            </IconWrapper>
        );

        const Wind = ({ className }) => (
            <IconWrapper className={className}>
                <path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/>
                <path d="M9.6 4.6A2 2 0 1 1 11 8H2"/>
                <path d="M12.6 19.4A2 2 0 1 0 14 16H2"/>
            </IconWrapper>
        );

        const ChevronRight = ({ className }) => (
            <IconWrapper className={className}>
                <path d="m9 18 6-6-6-6"/>
            </IconWrapper>
        );

        const RefreshCw = ({ className }) => (
            <IconWrapper className={className}>
                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                <path d="M21 3v5h-5"/>
                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                <path d="M8 16H3v5"/>
            </IconWrapper>
        );

        const Info = ({ className }) => (
            <IconWrapper className={className}>
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 16v-4"/>
                <path d="M12 8h.01"/>
            </IconWrapper>
        );

        // --- æ•°æ®é…ç½® ---
        const questions = [
            {
                id: 1,
                question: "æ–¹èˆŸä¸Šçš„ç”Ÿæ´»æ˜¯æ’æ¸©çš„ï¼Œæ²¡æœ‰é£æš´ï¼Œä¹Ÿæ²¡æœ‰é¥¥é¥¿ã€‚ä½†ä½ çš„èº«ä½“å´åœ¨æ¯è... åœ¨è¿™ä¸ªä»¤äººçª’æ¯çš„åˆåï¼Œä½ æœ€æ€€å¿µå“ªç§æ„Ÿè§‰ï¼Ÿ",
                options: [
                { text: "æˆ‘æœ€æ€€å¿µçš„ï¼Œæ˜¯åœ¨æå¯’ä¸­ä¸ä»–è€…ç´§å¯†ç«™ç«‹ã€ç›¸äº’æ”¯æŒçš„æ„Ÿè§‰ã€‚", type: "penguin" },
                { text: "èººåœ¨ä¸€æœ›æ— å çš„è‰åœ°ä¸Šï¼Œäº«å—ç€é˜³å…‰ã€å¾®é£ï¼Œä¸€è¾¹åƒé’è‰ä¸€è¾¹åƒèƒ¡èåœçš„æ„Ÿè§‰ã€‚", type: "rabbit" },
                { text: "æˆ‘æœ€æ€€å¿µæ—·é‡çš„é£å·æ¥æ¹¿æ¶¦æ³¥åœŸä¸è¿œæ–¹æ°´æºçš„æ°”æ¯ï¼Œè¿˜æœ‰é£ä¸­åŒä¼´çš„è®¯æ¯ã€‚", type: "elephant" },
                { text: "åœ¨å¤©ä¸Šè‡ªç”±ç¿±ç¿”çš„æ„Ÿè§‰ï¼Œåœ¨è‰åŸæ•´äº†ç‚¹è–¯æ¡ï¼Œå»å¤©ä¸Šä¼¸ä¼¸æ‡’è…°ã€‚", type: "eagle" },
                ]
            },
            {
                id: 2,
                question: "åœ¨é‚£åªé¹…çš„æ‘Šä½å‰ï¼Œå±å¹•æ’­æ”¾ç€ã€Šè’é‡ã€‹... ç›¯ç€å±å¹•ä¸­é‚£ä¸ªâ€œä¸å¯èƒ½å­˜åœ¨â€çš„ä¸–ç•Œï¼Œä½ è„‘æµ·ä¸­å†’å‡ºçš„ç¬¬ä¸€ä¸ªå¿µå¤´æ˜¯ï¼š",
                options: [
                { text: "é€ƒç¦»è¿™è‰˜å®‰ç¨³çš„æ–¹èˆŸï¼Œå³ä½¿çœŸå®çš„ä¸–ç•Œé‡Œæ²¡æœ‰æ’æ¸©ï¼Œæˆ‘ä»ç„¶æ„¿æ„åœ¨ç—›è‹¦ä¸­ç»å†çˆ±ã€‚", type: "penguin" },
                { text: "å€˜è‹¥æˆ‘èƒ½è§¦åŠè¿™äº›è‰²å½©......æ— è®ºçœŸå‡æˆ‘éƒ½æƒ³è¦è¿™æ ·æ´»ä¸€æ¬¡ã€‚", type: "rabbit" },
                { text: "æ— è®ºæ˜¯åœ¨æ–¹èˆŸè¿˜æ˜¯è‰åŸï¼Œæˆ‘éƒ½ä¼šå¤§å£å‘¼å¸ã€‚", type: "elephant" },
                { text: "é‚£æ­£æ˜¯æˆ‘æ¥çš„åœ°æ–¹ï¼Œå¯æˆ‘ä»¬ç°åœ¨å°†é©¶å‘å“ªé‡Œå‘¢ï¼Ÿ", type: "eagle" },
                ]
            },
            {
                id: 3,
                question: "æ€€ç–‘åƒæ½®æ¹¿çš„è‹”è—“åœ¨è”“å»¶ã€‚ä½ å¼€å§‹æ‚„æ‚„æ”¶é›†ä¸€äº›â€œè¿ç¦å“â€ï¼ˆç¾½æ¯›ã€æ³¥åœŸå‘³çš„å‡‰é£ï¼‰ã€‚ä½ ä¼šæŠŠè¿™äº›æ”¶é›†åˆ°çš„â€œè¿ç¦å“â€è—åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ",
                options: [
                { text: "ä¸åŠ¨å£°è‰²åœ°æ”¶é›†ï¼Œä½†æ˜¯å¹¶ä¸å®³æ€•è¢«å‘ç°ï¼Œè€Œæ˜¯å¦ç„¶çš„æ”¾åœ¨èº«è¾¹ã€‚", type: "penguin" },
                { text: "ä¸åšä»€ä¹ˆï¼Œå°±è®©taä»¬ä¸€å¦‚æ—¢å¾€åœ°â€œæ¥è®¿â€ï¼ŒæœŸå¾…ä¸taä»¬çš„å†æ¬¡ç›¸é‡ã€‚", type: "rabbit" },
                { text: "è—åœ¨èº«è¾¹ï¼Œåªæœ‰è‡ªå·±ä¿ç®¡æ‰æ„Ÿè§‰åˆ°å®‰å…¨ï¼Œå¦‚æœæœ‰å±é™©è¿˜å¯ä»¥éšæ—¶è½¬ç§»ï¼Œå’ŒåŒä¼´ä¸€èµ·ä¿æŠ¤è¿™äº›â€œä¿¡å·â€ã€‚", type: "elephant" },
                { text: "è—åœ¨æ¡…æ†çš„æœ€é«˜å¤„ï¼Œè°éƒ½åˆ«æƒ³æ‹¿èµ°ã€‚", type: "eagle" },
                ]
            },
            {
                id: 4,
                question: "æ–¹èˆŸæ’ä¸Šäº†æŸç§æœªçŸ¥çš„éšœç¢ï¼Œç¯å…‰ç†„ç­ã€‚åœ¨ç»å¯¹çš„æ··ä¹±ä¸­ï¼Œä½ æ¨å¼€é—¨å‰æœ€åä¸€æ¬¡å›å¤´ï¼Œçœ‹åˆ°å¤§å®¶æƒŠæåˆæœŸå¾…çš„çœ¼ç¥ï¼Œä½ å†³å®šï¼š",
                options: [
                { text: "ç¼“ç¼“åœ°çˆ¬ä¸Šèº«è¾¹çš„æ¡Œå­ï¼Œç”¨èº«ä½“å’Œå—“éŸ³é…åˆï¼Œæ¡ç´§å½¼æ­¤çš„æ‰‹ï¼Œåœ¨å…±åŒç¼–ç»‡çš„é¢‘ç‡ä¸­èµ°å‡ºé»‘æš—ã€‚", type: "penguin" },
                { text: "å…ˆæŠ±æŠ±å¤§å®¶~", type: "rabbit" },
                { text: "ä½œä¸ºå…ˆè¡Œè€…ï¼Œåœ¨ç³»ç»Ÿå´©å¡Œæ—¶ä¾ç„¶é€‰æ‹©ç›¸ä¿¡å¯èƒ½ï¼Œå¹¶ç”¨è¡ŒåŠ¨ä¸ºææƒ§çš„ä¸–ç•Œç‚¹äº®ç¬¬ä¸€ç›ç¯ã€‚", type: "elephant" },
                { text: "é¢å¯¹ä¼™ä¼´ä»¬å…ˆé ä¸€èº¬ï¼Œç„¶åç¥ä»–ä»¬æ—©å®‰ï¼Œåˆå®‰ï¼Œæ™šå®‰ã€‚", type: "eagle" },
                ]
            },
            {
                id: 5,
                question: "è·¨å‡ºæ–¹èˆŸçš„ä¸€ç¬ï¼Œå¯’å†·ã€å¹²ç‡¥ã€ç”šè‡³æ˜¯åˆºé¼»çš„é’è‰æ°”å‘³æ‰‘é¢è€Œæ¥ã€‚é¢å¯¹è¿™ç‰‡å……æ»¡å±é™©ä½†ä¹Ÿå……æ»¡å¯èƒ½çš„è’åŸï¼Œä½ ä¸‹æ„è¯†åšå‡ºçš„ç¬¬ä¸€ä¸ªåŠ¨ä½œæ˜¯ï¼š",
                options: [
                { text: "æ…¢æ…¢åœ°æ‹¨å¼€çœ¼å‰çš„è¿·é›¾ï¼Œä¸€æ­¥ä¸€æ­¥å‘æœªçŸ¥èµ°å»ã€‚", type: "penguin" },
                { text: "å…ˆé¡ºé¡ºæƒŠææœªå®šçš„ç‚¸æ¯›ï¼Œè¿ç”¨å…¨èº«çš„æ„Ÿå®˜å»æ¢ç´¢å’Œç†è§£è¿™ç‰‡åœŸåœ°ã€‚", type: "rabbit" },
                { text: "æ”¾ç¼“èŠ‚å¥æ„Ÿå—å‘¨å›´çš„ç»†å¾®å˜åŒ–ï¼Œä¸»åŠ¨ç«™åœ¨å‰æ–¹ä¸ºä¼™ä¼´ç…§äº®ç¬¬ä¸€æ­¥è·¯ã€‚", type: "elephant" },
                { text: "å¤§å£°æœ—è¯µâ€œç”Ÿæ´»å°±åƒæµ·æ´‹åªæœ‰æ„å¿—åšå¼ºçš„äººæ‰èƒ½åˆ°è¾¾å½¼å²¸â€ï¼Œç„¶åè¢«ç‹‚é£å¹å¾—ä¸œå€’è¥¿æ­ªã€‚", type: "eagle" },
                ]
            },
            {
                id: 6,
                question: "åœ¨å¯»æ‰¾â€œå®¶å›­â€çš„è·¯ä¸Šï¼Œå¦‚æœä½ å¿…é¡»åœ¨è¿™æ”¯æ¢é™©é˜Ÿä¸­æ‰¿æ‹…ä¸€é¡¹â€œä¸å¯æ›¿ä»£â€çš„èŒè´£ï¼Œä½ å¸Œæœ›é‚£æ˜¯ï¼š",
                options: [
                { text: "èµ°åœ¨é˜Ÿä¼ä¸­é—´ï¼Œç•™å¿ƒè§‚å¯Ÿèº«è¾¹çš„ç¯å¢ƒï¼Œä¹Ÿæ³¨æ„å…³ç…§å›¢é˜Ÿçš„æ•´ä½“èŠ‚å¥ã€‚", type: "penguin" },
                { text: "å€¾å¬å°åŠ¨ç‰©ä»¬çš„ææƒ§ï¼ŒåŠªåŠ›ç”¨çƒ­æƒ…ä¸çˆ±é©±æ•£é›†ä½“çš„é˜´éœ¾ã€‚", type: "rabbit" },
                { text: "é¢†å¯¼è€…ï¼Œå‡­å€Ÿè‡ªèº«å¼ºå¤§çš„åŠ›é‡ï¼Œå¸¦é¢†å¤§å®¶æ¢å¯»åˆ°ä¸€äº›ä¸ä¸€æ ·çš„æƒŠå–œã€‚", type: "elephant" },
                { text: "æ’å¤´å…µï¼Œå‡­å€Ÿé£å¤©æŠ€èƒ½ä¸ºå…¶ä»–å°ä¼™ä¼´ä»¬æ¢è·¯ã€‚", type: "eagle" },
                ]
            },
            {
                id: 7,
                question: "åœ¨è’é‡æ·±å¤„å‘ç°äº†ä¸€åº§å¤è€çš„ç¥­å›ã€‚å½“ä½ ä¼¸æ‰‹è§¦æ‘¸å…¶ä¸­ä¸€ä¸ªå›¾è…¾æ—¶ï¼Œä½ æƒ…ä¸è‡ªç¦åœ°å–Šå‡ºé‚£å¥å’’è¯­ï¼š",
                options: [
                { text: "Protego Totalum! (ç»Ÿç»ŸåŠ æŠ¤ğŸª„) å®ˆæŠ¤æ‰€æœ‰åŒè¡Œè€…å‰è¡Œã€‚", type: "penguin" },
                { text: "ç±³è¥¿ç±³è¥¿ï¼", type: "rabbit" },
                { text: "æˆ‘ä½“å†…çš„ç«è½¦ä»ä¸é”™è½¨ï¼Œæ‰€ä»¥å…è®¸å¤§é›ªã€é£æš´ã€æ³¥çŸ³æµå’Œè’è°¬ã€‚", type: "elephant" },
                { text: "è¡Œåˆ°æ°´ç©·å¤„ï¼Œåçœ‹äº‘èµ·æ—¶ï¼Œé—®è‹èŒ«å¤§åœ°ï¼Œè°ä¸»æ²‰æµ®ï¼Ÿ", type: "eagle" },
                ]
            },
            {
                id: 8,
                question: "å’’è¯­å“èµ·ï¼Œå†æ¬¡ççœ¼æ—¶ï¼Œé¹…æœä½ å¾®ç¬‘ï¼šâ€œæ¬¢è¿ï¼Œè¿™å°±æ˜¯ä½ æœ€æƒ³å»çš„åœ°æ–¹ï¼â€è¿™é‡Œæ˜¯ï¼š",
                options: [
                { text: "å°ä¼™ä¼´ä»¬å›´ååœ¨ç«å †æ—ï¼Œæ¬¢æ­Œç¬‘è¯­ï¼Œå……æ»¡â€œçˆ±â€çš„æ°›å›´ï¼Œæ²¡æœ‰ææƒ§ä¸ç®—è®¡ã€‚", type: "penguin" },
                { text: "ä¸€æœ›æ— é™…çš„è‰åŸä¸Šï¼Œè¿™é‡Œæœ‰ç‰›ç¾¤ï¼Œé²œèŠ±ï¼Œé£ï¼Œæ³¥åœŸï¼Œè¿˜æœ‰ç†Ÿæ‚‰çš„è‡ªç„¶ã€‚", type: "rabbit" },
                { text: "æ¯åªåŠ¨ç‰©éƒ½å¯ä»¥å–Šä¸Šå¤§å®¶ä¸€èµ·æ—…è¡Œã€å–æ°´ã€è·³èˆï¼Œåœ¨å¹¿é˜”ç©ºé—´é‡Œå‘æŒ¥æƒ³è±¡ã€‚", type: "elephant" },
                { text: "æ••å‹’å·ï¼Œé˜´å±±ä¸‹ï¼Œå¤©ä¼¼ç©¹åºï¼Œç¬¼ç›–å››é‡ã€‚", type: "eagle" },
                ]
            }
        ];

        const animalInfo = {
            penguin: {
                name: "ä¼é¹…è‹‘",
                icon: "ğŸ§",
                color: "from-blue-500 to-indigo-600",
                desc: "å‹‡æ•¢ã€å–„è‰¯ã€çœŸè¯šã€å›¢ç»“",
            },
            rabbit: {
                name: "å…”è‹‘",
                icon: "ğŸ°",
                color: "from-pink-400 to-rose-500",
                desc: "æœºæ™ºã€æ•æ„Ÿã€æ•é”ã€å‹‡æ•¢ã€æ…¢çƒ­ã€å–„è‰¯ã€è¾¹ç•Œæ„Ÿå¼ºã€å†’å¤±ã€çˆ±å–æ°´ã€æ€¥èºã€å…±æƒ…ã€æœ‰åå·®ã€å‘ã€Œæˆ‘ä»¬ã€æ•å¼€çš„è‡ªæˆ‘",
            },
            elephant: {
                name: "è±¡è‹‘",
                icon: "ğŸ˜",
                color: "from-emerald-500 to-teal-700",
                desc: "æ¸©å’Œä¸æ¥çº³ã€åˆ›é€ ä¸æƒ³è±¡ã€é¢†å¯¼åŠ›ä¸å·å¬åŠ›",
            },
            eagle: {
                name: "é¹°è‹‘",
                icon: "ğŸ¦…",
                color: "from-amber-500 to-orange-600",
                desc: "å‹‡æ•¢ã€ç‹¬ç«‹ã€åšå®šåœ°é€‰æ‹©è‡ªå·±ã€æ¢ç´¢å’Œå¥½å¥‡å¿ƒã€ä¿æŒæ•é”ã€å‘ä¸Šã€å‹‡çŒ›ç²¾è¿›",
            }
        };

        function WinterSortingQuiz() {
            const [step, setStep] = useState('intro');
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [scores, setScores] = useState({ penguin: 0, rabbit: 0, elephant: 0, eagle: 0 });
            const [shuffledOptions, setShuffledOptions] = useState([]);

            const shuffleArray = (array) => {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            };

            useEffect(() => {
                if (step === 'quiz') {
                    setShuffledOptions(shuffleArray(questions[currentQuestion].options));
                }
            }, [step, currentQuestion]);

            const handleStart = () => {
                setStep('quiz');
            };

            const handleAnswer = (type) => {
                const newScores = { ...scores, [type]: scores[type] + 1 };
                setScores(newScores);

                if (currentQuestion < questions.length - 1) {
                    setTimeout(() => {
                        setCurrentQuestion(currentQuestion + 1);
                    }, 250);
                } else {
                    setStep('calculating');
                    setTimeout(() => {
                        setStep('result');
                    }, 2000);
                }
            };

            const restartQuiz = () => {
                setScores({ penguin: 0, rabbit: 0, elephant: 0, eagle: 0 });
                setCurrentQuestion(0);
                setStep('intro');
            };

            // 1. å¼€åœºé¡µ
            if (step === 'intro') {
                return (
                    <div className="min-h-screen-mobile bg-slate-900 text-white font-sans selection:bg-blue-500 overflow-hidden relative">
                        <div className="absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1518182170546-0766aa6f694e?q=80&w=2540&auto=format&fit=crop')] bg-cover bg-center"></div>
                        <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-b from-slate-900/50 via-slate-900/80 to-slate-900 z-0"></div>

                        <div className="relative z-10 container mx-auto px-4 h-full flex flex-col items-center justify-center text-center max-w-2xl py-12">
                        
                        <h1 className="text-3xl md:text-5xl font-bold mb-6 tracking-wide bg-clip-text text-transparent bg-gradient-to-r from-blue-100 to-purple-100 drop-shadow-lg">
                            å†¬æ—…äººÂ·å…¥è‹‘æµ‹è¯•
                        </h1>
                        
                        <div className="space-y-3 text-slate-300 leading-relaxed text-sm md:text-base mb-10 px-4 bg-slate-800/40 p-5 rounded-2xl backdrop-blur-sm border border-slate-700/50">
                            <p>å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œå¤§æ´ªæ°´æ¥è¢­ï¼ŒåŠ¨ç‰©ä»¬ç™»ä¸Šäº†è¯ºäºšæ–¹èˆŸã€‚</p>
                            <p>ä½†é¹°å˜æˆäº†èµ°åœ°é¸¡ï¼Œä¼é¹…æŒ¤åœ¨å†°æŸœï¼Œå…”å­åƒç€é™ˆå¹´å¹²è‰ï¼Œè±¡åœ¨ç‹­å°çš„ç©ºé—´è¸±æ­¥ã€‚</p>
                            <p>åœ¨é‚£åªé¹…çš„æ‘Šä½å‰ï¼Œå…³äºâ€œæ–°ä¸–ç•Œâ€çš„ä¼ è¨€å››èµ·ã€‚</p>
                            <p><strong>å¦‚æœå¤§é—¨æ‰“å¼€ï¼Œä½ çš„çµé­‚ä¼šå¸¦ä½ èµ°å‘å“ªä¸ªè‹‘ï¼Ÿ</strong></p>
                        </div>

                        <button 
                            onClick={handleStart}
                            className="group relative px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full font-bold text-lg tracking-wider shadow-lg hover:shadow-blue-500/50 transition-all duration-300 transform active:scale-95 flex items-center gap-2 cursor-pointer touch-manipulation"
                        >
                            <Sparkles className="w-5 h-5 animate-pulse" />
                            å¼€å§‹æµ‹è¯•
                            <ChevronRight className="w-5 h-5 group-hover:translate-x-1 transition-transform" />
                        </button>
                        </div>
                    </div>
                );
            }

            // 2. ç­”é¢˜é¡µ
            if (step === 'quiz') {
                const progress = ((currentQuestion + 1) / questions.length) * 100;
                const q = questions[currentQuestion];

                return (
                    <div className="min-h-screen-mobile bg-slate-50 text-slate-800 flex flex-col relative overflow-hidden">
                        <div className="w-full h-2 bg-slate-200">
                        <div 
                            className="h-full bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-500 ease-out"
                            style={{ width: `${progress}%` }}
                        ></div>
                        </div>

                        <div className="absolute top-[-10%] right-[-10%] w-96 h-96 bg-blue-100 rounded-full blur-3xl opacity-50 -z-10"></div>
                        <div className="absolute bottom-[-10%] left-[-10%] w-96 h-96 bg-purple-100 rounded-full blur-3xl opacity-50 -z-10"></div>

                        <div className="flex-1 container mx-auto px-4 flex flex-col justify-center items-center max-w-3xl py-6 md:py-10">
                        <div className="mb-4 md:mb-6 text-slate-400 font-serif italic tracking-widest text-sm md:text-base">
                            QUESTION {currentQuestion + 1} / {questions.length}
                        </div>

                        <div className="w-full bg-white rounded-3xl shadow-xl p-6 md:p-12 mb-6 md:mb-8 relative border border-slate-100 animate-fade-in">
                            <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white p-3 rounded-full shadow-lg">
                                <Wind className="w-6 h-6" />
                            </div>
                            <h2 className="text-lg md:text-2xl font-medium leading-relaxed text-center text-slate-700 pt-2">
                            {q.question}
                            </h2>
                        </div>

                        <div className="w-full grid gap-3 md:gap-4 animate-fade-in" style={{animationDelay: '0.1s'}}>
                            {shuffledOptions.map((option, idx) => (
                            <button
                                key={idx}
                                onClick={() => handleAnswer(option.type)}
                                className="group relative w-full text-left p-5 md:p-6 bg-white/80 hover:bg-blue-50 rounded-xl border border-slate-200 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98] cursor-pointer touch-manipulation"
                            >
                                <div className="flex items-start gap-4">
                                <div className="flex-shrink-0 w-6 h-6 rounded-full border-2 border-slate-300 group-hover:border-blue-500 mt-1 flex items-center justify-center">
                                    <div className="w-3 h-3 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                </div>
                                <span className="text-slate-600 group-hover:text-slate-900 text-sm md:text-lg leading-relaxed">
                                    {option.text}
                                </span>
                                </div>
                            </button>
                            ))}
                        </div>
                        </div>
                    </div>
                );
            }

            // 3. è®¡ç®—ä¸­
            if (step === 'calculating') {
                return (
                    <div className="min-h-screen-mobile bg-slate-900 flex flex-col items-center justify-center text-white">
                        <div className="relative w-24 h-24 mb-8">
                        <div className="absolute inset-0 border-4 border-slate-700 rounded-full"></div>
                        <div className="absolute inset-0 border-4 border-t-blue-500 border-r-purple-500 border-b-transparent border-l-transparent rounded-full animate-spin"></div>
                        <Sparkles className="absolute inset-0 m-auto text-blue-300 animate-pulse" />
                        </div>
                        <h2 className="text-2xl font-light tracking-widest animate-pulse">æ­£åœ¨è†å¬é£çš„å£°éŸ³...</h2>
                        <p className="text-slate-400 mt-2 text-sm">æ­£åœ¨åˆ†æä½ çš„çµé­‚æˆåˆ†</p>
                    </div>
                );
            }

            // 4. ç»“æœé¡µ
            if (step === 'result') {
                const total = 8;
                const results = Object.keys(scores).map(key => ({
                    key,
                    percent: Math.round((scores[key] / total) * 100),
                    ...animalInfo[key]
                })).sort((a, b) => b.percent - a.percent);

                const mainResult = results[0];

                return (
                    <div className="min-h-screen-mobile bg-slate-50 py-8 md:py-12 px-4 font-sans relative">
                        <div className="fixed inset-0 opacity-5 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
                        
                        <div className="container mx-auto max-w-4xl relative z-10 animate-fade-in">
                            <div className="bg-white rounded-3xl shadow-2xl overflow-hidden border border-slate-100">
                            
                            <div className={`p-8 md:p-16 text-center bg-gradient-to-br ${mainResult.color} text-white relative overflow-hidden`}>
                                <div className="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/snow.png')] opacity-20"></div>
                                
                                <h3 className="text-blue-100 uppercase tracking-widest text-xs md:text-sm font-semibold mb-4 opacity-80">ä½ çš„çµé­‚æ –æ¯åœ°</h3>
                                <div className="text-7xl md:text-8xl mb-6 animate-bounce select-none filter drop-shadow-lg">
                                {mainResult.icon}
                                </div>
                                <h1 className="text-4xl md:text-6xl font-bold mb-6">{mainResult.name}</h1>
                                
                                <div className="max-w-3xl mx-auto allow-select">
                                    <p className="text-base md:text-xl font-medium leading-relaxed opacity-95 bg-white/10 backdrop-blur-sm p-4 rounded-xl border border-white/20">
                                    {mainResult.desc}
                                    </p>
                                </div>
                            </div>

                            <div className="p-6 md:p-12 bg-white">
                                
                                <div className="mb-8 md:mb-10 p-5 md:p-6 bg-amber-50 rounded-2xl border-2 border-amber-200 flex flex-col md:flex-row items-center justify-center text-center md:text-left gap-4 shadow-sm allow-select">
                                    <Info className="w-8 h-8 md:w-10 md:h-10 text-amber-500 flex-shrink-0" />
                                    <p className="text-base md:text-xl font-bold text-amber-800 leading-snug">
                                        æœ€ç»ˆåˆ†è‹‘ç»“æœç”±æ—…äººä¼™ä¼´ä»¬çš„åˆ†è‹‘æ„å‘å’Œé­”æ³•ä¸å¯æŠ—åŠ›å†³å®šï¼Œè¯·å‚è€ƒåˆ†è‹‘æµ‹è¯•ç»“æœæäº¤åˆ†è‹‘æ„å‘ï¼
                                    </p>
                                </div>

                                <h4 className="text-lg md:text-xl font-bold text-slate-800 mb-6 md:mb-8 flex items-center gap-2">
                                <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                                å…¥è‹‘æˆåˆ†åˆ†æè¡¨
                                </h4>
                                
                                <div className="space-y-5 md:space-y-6">
                                {results.map((item) => (
                                    <div key={item.key} className="relative">
                                    <div className="flex justify-between items-end mb-2">
                                        <span className="font-medium text-slate-700 flex items-center gap-2 text-sm md:text-base">
                                        <span className="text-2xl">{item.icon}</span> 
                                        {item.name}
                                        </span>
                                        <span className="font-bold text-slate-900">{item.percent}%</span>
                                    </div>
                                    <div className="w-full h-3 md:h-4 bg-slate-100 rounded-full overflow-hidden">
                                        <div 
                                        className={`h-full rounded-full bg-gradient-to-r ${item.color} transition-all duration-1000 ease-out`}
                                        style={{ width: `${item.percent}%` }}
                                        ></div>
                                    </div>
                                    </div>
                                ))}
                                </div>

                                <div className="mt-10 md:mt-12 flex justify-center">
                                <button 
                                    onClick={restartQuiz}
                                    className="px-8 py-3 md:px-10 md:py-4 rounded-xl border-2 border-slate-200 text-slate-600 font-bold hover:bg-slate-50 hover:border-slate-300 transition-colors flex items-center justify-center gap-2 text-base md:text-lg cursor-pointer touch-manipulation active:scale-95 transition-transform"
                                >
                                    <RefreshCw className="w-5 h-5" />
                                    å†æ¬¡æµ‹è¯•
                                </button>
                                </div>

                            </div>
                            </div>
                        </div>
                    </div>
                );
            }
            return null;
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WinterSortingQuiz />);
    </script>
</body>

</html>

